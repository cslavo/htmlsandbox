<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Generator & Strength Checker</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f8f9fa;
            --text-primary: #212529;
            --text-secondary: #6c757d;
            --border-color: #dee2e6;
            --accent-color: #0d6efd;
            --success-color: #198754;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
        }

        body.dark-mode {
            --bg-primary: #1e1e1e;
            --bg-secondary: #2d2d2d;
            --text-primary: #e0e0e0;
            --text-secondary: #a0a0a0;
            --border-color: #404040;
            --accent-color: #4a9eff;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .header p {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 10px 15px;
            border: 1px solid var(--border-color);
            background: var(--bg-secondary);
            color: var(--text-primary);
            border-radius: 4px;
            cursor: pointer;
            font-size: 20px;
        }

        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
        }

        .card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 25px;
        }

        .card h2 {
            font-size: 20px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .password-display {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .password-input {
            flex: 1;
            padding: 15px;
            border: 2px solid var(--border-color);
            background: var(--bg-primary);
            color: var(--text-primary);
            border-radius: 6px;
            font-size: 16px;
            font-family: 'Monaco', 'Menlo', monospace;
        }

        button {
            padding: 10px 20px;
            border: 1px solid var(--border-color);
            background: var(--accent-color);
            color: white;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
        }

        button:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }

        button.secondary {
            background: var(--bg-primary);
            color: var(--text-primary);
        }

        .slider-group {
            margin-bottom: 20px;
        }

        .slider-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .slider-container {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        input[type="range"] {
            flex: 1;
            height: 6px;
            border-radius: 3px;
            background: var(--border-color);
            outline: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--accent-color);
            cursor: pointer;
        }

        .slider-value {
            min-width: 40px;
            text-align: center;
            font-weight: 600;
            font-size: 16px;
        }

        .checkbox-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 20px;
        }

        .checkbox-label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }

        input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .strength-meter {
            margin-bottom: 20px;
        }

        .strength-bar {
            width: 100%;
            height: 8px;
            background: var(--border-color);
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }

        .strength-fill {
            height: 100%;
            transition: all 0.3s;
            border-radius: 4px;
        }

        .strength-label {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            margin-top: 5px;
        }

        .strength-very-weak { background: #dc3545; width: 20%; }
        .strength-weak { background: #fd7e14; width: 40%; }
        .strength-fair { background: #ffc107; width: 60%; }
        .strength-good { background: #20c997; width: 80%; }
        .strength-strong { background: #198754; width: 100%; }

        .metrics-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .metric {
            padding: 12px;
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
        }

        .metric-label {
            font-size: 12px;
            color: var(--text-secondary);
            margin-bottom: 5px;
        }

        .metric-value {
            font-size: 18px;
            font-weight: 600;
        }

        .checklist {
            list-style: none;
        }

        .checklist li {
            padding: 8px 0;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }

        .check-icon {
            font-size: 16px;
        }

        .check-pass { color: var(--success-color); }
        .check-fail { color: var(--danger-color); }

        .tips {
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 15px;
            margin-top: 20px;
        }

        .tips h3 {
            font-size: 16px;
            margin-bottom: 10px;
        }

        .tips ul {
            padding-left: 20px;
            font-size: 14px;
            line-height: 1.8;
        }

        .history {
            margin-top: 20px;
        }

        .history-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            margin-bottom: 8px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 14px;
        }

        .history-item button {
            padding: 5px 10px;
            font-size: 12px;
        }

        .tab-container {
            margin-bottom: 20px;
        }

        .tabs {
            display: flex;
            gap: 10px;
            border-bottom: 2px solid var(--border-color);
            margin-bottom: 20px;
        }

        .tab {
            padding: 10px 20px;
            background: none;
            border: none;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            font-weight: 500;
            margin-bottom: -2px;
        }

        .tab.active {
            border-bottom-color: var(--accent-color);
            color: var(--accent-color);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        #qrcode {
            margin-top: 20px;
            text-align: center;
            padding: 20px;
            background: white;
            border-radius: 8px;
        }

        .multiple-passwords {
            margin-top: 20px;
        }

        .password-list {
            max-height: 300px;
            overflow-y: auto;
        }

        .bulk-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            align-items: center;
        }

        .bulk-controls label {
            font-weight: 500;
        }

        .bulk-controls input[type="number"] {
            width: 80px;
            padding: 8px;
            border: 1px solid var(--border-color);
            background: var(--bg-primary);
            color: var(--text-primary);
            border-radius: 4px;
        }

        .warning-box {
            background: #fff3cd;
            border: 1px solid #ffc107;
            color: #664d03;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
            font-size: 14px;
        }

        body.dark-mode .warning-box {
            background: #3a3000;
            border-color: #ffc107;
            color: #ffd60a;
        }

        .phonetic {
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            padding: 15px;
            border-radius: 6px;
            margin-top: 15px;
            font-family: monospace;
            font-size: 14px;
            line-height: 1.8;
        }
    </style>
</head>
<body>
    <button class="theme-toggle" onclick="toggleTheme()">üåì</button>

    <div class="container">
        <div class="header">
            <h1>üîê Password Generator & Strength Checker</h1>
            <p>Generate secure passwords and check password strength - All processing happens locally in your browser</p>
        </div>

        <div class="warning-box">
            ‚ö†Ô∏è <strong>Privacy Note:</strong> All password generation and checking happens entirely in your browser. No data is sent to any server.
        </div>

        <div class="main-grid">
            <!-- Generator Panel -->
            <div class="card">
                <h2>üé≤ Password Generator</h2>

                <div class="tab-container">
                    <div class="tabs">
                        <button class="tab active" onclick="switchTab('random')">Random</button>
                        <button class="tab" onclick="switchTab('passphrase')">Passphrase</button>
                        <button class="tab" onclick="switchTab('multiple')">Multiple</button>
                    </div>

                    <!-- Random Password Tab -->
                    <div class="tab-content active" id="random-tab">
                        <div class="slider-group">
                            <label>Password Length: <span id="lengthValue">16</span></label>
                            <div class="slider-container">
                                <input type="range" id="lengthSlider" min="4" max="128" value="16" oninput="updateLength()">
                            </div>
                        </div>

                        <div class="checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="uppercase" checked>
                                <span>Uppercase (A-Z)</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="lowercase" checked>
                                <span>Lowercase (a-z)</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="numbers" checked>
                                <span>Numbers (0-9)</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="symbols" checked>
                                <span>Symbols (!@#$...)</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="excludeAmbiguous">
                                <span>Exclude Similar (0,O,l,1)</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="noRepeat">
                                <span>No Repeating Chars</span>
                            </label>
                        </div>

                        <button onclick="generatePassword()" style="width: 100%; padding: 15px; font-size: 16px;">
                            üé≤ Generate Password
                        </button>
                    </div>

                    <!-- Passphrase Tab -->
                    <div class="tab-content" id="passphrase-tab">
                        <div class="slider-group">
                            <label>Number of Words: <span id="wordsValue">4</span></label>
                            <div class="slider-container">
                                <input type="range" id="wordsSlider" min="3" max="8" value="4" oninput="updateWords()">
                            </div>
                        </div>

                        <div class="checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="capitalizeWords" checked>
                                <span>Capitalize Words</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="addNumbers" checked>
                                <span>Add Numbers</span>
                            </label>
                        </div>

                        <label style="display: block; margin-bottom: 10px;">Separator:</label>
                        <input type="text" id="separator" value="-" style="width: 100%; padding: 10px; margin-bottom: 15px;" maxlength="3">

                        <button onclick="generatePassphrase()" style="width: 100%; padding: 15px; font-size: 16px;">
                            üìù Generate Passphrase
                        </button>
                    </div>

                    <!-- Multiple Passwords Tab -->
                    <div class="tab-content" id="multiple-tab">
                        <div class="bulk-controls">
                            <label>Count:</label>
                            <input type="number" id="bulkCount" min="1" max="20" value="5">
                            <button onclick="generateMultiple()">Generate</button>
                            <button onclick="copyAllPasswords()" class="secondary">Copy All</button>
                        </div>

                        <div class="password-list" id="passwordList"></div>
                    </div>
                </div>

                <div class="password-display" style="margin-top: 20px;">
                    <input type="text" id="generatedPassword" class="password-input" placeholder="Generated password will appear here" readonly>
                    <button onclick="togglePasswordVisibility()" class="secondary">üëÅÔ∏è</button>
                    <button onclick="copyPassword()">üìã</button>
                </div>

                <div class="history">
                    <h3 style="font-size: 14px; margin-bottom: 10px;">Recent (Session Only)</h3>
                    <div id="historyList"></div>
                    <button onclick="clearHistory()" class="secondary" style="width: 100%; margin-top: 10px;">Clear History</button>
                </div>
            </div>

            <!-- Strength Checker Panel -->
            <div class="card">
                <h2>üõ°Ô∏è Strength Checker</h2>

                <input type="password" id="checkPassword" class="password-input" placeholder="Enter password to check strength" oninput="checkStrength()" style="margin-bottom: 20px;">

                <div class="strength-meter">
                    <label style="font-weight: 500;">Strength:</label>
                    <div class="strength-bar">
                        <div id="strengthFill" class="strength-fill"></div>
                    </div>
                    <div class="strength-label">
                        <span id="strengthText">-</span>
                        <span id="strengthScore">0/100</span>
                    </div>
                </div>

                <div class="metrics-grid">
                    <div class="metric">
                        <div class="metric-label">Entropy</div>
                        <div class="metric-value" id="entropy">- bits</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Est. Crack Time</div>
                        <div class="metric-value" id="crackTime">-</div>
                    </div>
                </div>

                <ul class="checklist" id="checklist">
                    <li><span class="check-icon">‚¨ú</span> At least 8 characters</li>
                    <li><span class="check-icon">‚¨ú</span> Contains uppercase letters</li>
                    <li><span class="check-icon">‚¨ú</span> Contains lowercase letters</li>
                    <li><span class="check-icon">‚¨ú</span> Contains numbers</li>
                    <li><span class="check-icon">‚¨ú</span> Contains symbols</li>
                    <li><span class="check-icon">‚¨ú</span> Not a common password</li>
                    <li><span class="check-icon">‚¨ú</span> No repeating patterns</li>
                    <li><span class="check-icon">‚¨ú</span> No keyboard patterns</li>
                </ul>

                <div class="tips">
                    <h3>üí° Tips for Strong Passwords</h3>
                    <ul>
                        <li>Use at least 12 characters</li>
                        <li>Mix uppercase, lowercase, numbers, and symbols</li>
                        <li>Avoid dictionary words and personal information</li>
                        <li>Use a unique password for each account</li>
                        <li>Consider using a password manager</li>
                    </ul>
                </div>

                <div id="phoneticDisplay" class="phonetic" style="display: none;">
                    <strong>Phonetic Spelling:</strong><br>
                    <span id="phoneticText"></span>
                </div>

                <div id="qrcode"></div>
            </div>
        </div>
    </div>

    <script>
        // Common passwords list (top 100)
        const commonPasswords = ['password', '123456', '123456789', 'qwerty', 'abc123', 'password1', '12345678', '111111', '1234567', 'sunshine', 'qwerty123', 'Password1', 'princess', 'admin', 'welcome', '666666', 'abc123', 'football', '123123', 'monkey', '1234567890', '!@#$%^&*', 'charlie', 'aa123456', 'donald', 'password123', 'qwerty1'];

        // Word list for passphrases
        const wordList = ['apple', 'banana', 'cherry', 'dragon', 'eagle', 'forest', 'garden', 'house', 'island', 'jungle', 'kitten', 'lemon', 'mountain', 'night', 'ocean', 'planet', 'queen', 'river', 'sunset', 'tiger', 'umbrella', 'valley', 'winter', 'yellow', 'zebra', 'anchor', 'bridge', 'castle', 'diamond', 'engine', 'falcon', 'galaxy', 'harbor', 'jazz', 'knight', 'library', 'magic', 'noble', 'orbit', 'penguin', 'ruby', 'storm', 'thunder', 'victory', 'wizard'];

        // Phonetic alphabet
        const phonetic = {'a':'Alpha','b':'Bravo','c':'Charlie','d':'Delta','e':'Echo','f':'Foxtrot','g':'Golf','h':'Hotel','i':'India','j':'Juliet','k':'Kilo','l':'Lima','m':'Mike','n':'November','o':'Oscar','p':'Papa','q':'Quebec','r':'Romeo','s':'Sierra','t':'Tango','u':'Uniform','v':'Victor','w':'Whiskey','x':'X-ray','y':'Yankee','z':'Zulu','0':'Zero','1':'One','2':'Two','3':'Three','4':'Four','5':'Five','6':'Six','7':'Seven','8':'Eight','9':'Nine'};

        let passwordHistory = [];

        function updateLength() {
            const value = document.getElementById('lengthSlider').value;
            document.getElementById('lengthValue').textContent = value;
        }

        function updateWords() {
            const value = document.getElementById('wordsSlider').value;
            document.getElementById('wordsValue').textContent = value;
        }

        function generatePassword() {
            const length = parseInt(document.getElementById('lengthSlider').value);
            const useUppercase = document.getElementById('uppercase').checked;
            const useLowercase = document.getElementById('lowercase').checked;
            const useNumbers = document.getElementById('numbers').checked;
            const useSymbols = document.getElementById('symbols').checked;
            const excludeAmbiguous = document.getElementById('excludeAmbiguous').checked;
            const noRepeat = document.getElementById('noRepeat').checked;

            let chars = '';
            if (useUppercase) chars += excludeAmbiguous ? 'ABCDEFGHJKLMNPQRSTUVWXYZ' : 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            if (useLowercase) chars += excludeAmbiguous ? 'abcdefghijkmnopqrstuvwxyz' : 'abcdefghijklmnopqrstuvwxyz';
            if (useNumbers) chars += excludeAmbiguous ? '23456789' : '0123456789';
            if (useSymbols) chars += '!@#$%^&*()_+-=[]{}|;:,.<>?';

            if (!chars) {
                alert('Please select at least one character type');
                return;
            }

            let password = '';
            let lastChar = '';

            for (let i = 0; i < length; i++) {
                let char;
                do {
                    char = chars[Math.floor(Math.random() * chars.length)];
                } while (noRepeat && char === lastChar);

                password += char;
                lastChar = char;
            }

            setPassword(password);
        }

        function generatePassphrase() {
            const wordCount = parseInt(document.getElementById('wordsSlider').value);
            const capitalize = document.getElementById('capitalizeWords').checked;
            const addNumbers = document.getElementById('addNumbers').checked;
            const separator = document.getElementById('separator').value || '-';

            let words = [];
            for (let i = 0; i < wordCount; i++) {
                let word = wordList[Math.floor(Math.random() * wordList.length)];
                if (capitalize) {
                    word = word.charAt(0).toUpperCase() + word.slice(1);
                }
                words.push(word);
            }

            let passphrase = words.join(separator);
            if (addNumbers) {
                passphrase += separator + Math.floor(Math.random() * 9999);
            }

            setPassword(passphrase);
        }

        function generateMultiple() {
            const count = parseInt(document.getElementById('bulkCount').value) || 5;
            const list = document.getElementById('passwordList');
            list.innerHTML = '';

            for (let i = 0; i < count; i++) {
                const length = 16;
                const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz23456789!@#$%^&*';
                let password = '';
                for (let j = 0; j < length; j++) {
                    password += chars[Math.floor(Math.random() * chars.length)];
                }

                const item = document.createElement('div');
                item.className = 'history-item';
                item.innerHTML = `
                    <span>${password}</span>
                    <button onclick="copyText('${password}')">Copy</button>
                `;
                list.appendChild(item);
            }
        }

        function copyAllPasswords() {
            const list = document.getElementById('passwordList');
            const passwords = Array.from(list.querySelectorAll('span')).map(s => s.textContent).join('\n');
            copyText(passwords);
        }

        function setPassword(password) {
            const input = document.getElementById('generatedPassword');
            input.value = password;
            input.type = 'text';

            // Add to history
            passwordHistory.unshift(password);
            if (passwordHistory.length > 5) passwordHistory.pop();
            updateHistory();

            // Auto-check strength
            document.getElementById('checkPassword').value = password;
            checkStrength();
        }

        function updateHistory() {
            const list = document.getElementById('historyList');
            list.innerHTML = '';

            passwordHistory.forEach(pwd => {
                const item = document.createElement('div');
                item.className = 'history-item';
                item.innerHTML = `
                    <span>${pwd.substring(0, 20)}${pwd.length > 20 ? '...' : ''}</span>
                    <button onclick="copyText('${pwd}')">Copy</button>
                `;
                list.appendChild(item);
            });
        }

        function clearHistory() {
            passwordHistory = [];
            updateHistory();
        }

        function togglePasswordVisibility() {
            const input = document.getElementById('generatedPassword');
            input.type = input.type === 'password' ? 'text' : 'password';
        }

        function copyPassword() {
            const password = document.getElementById('generatedPassword').value;
            copyText(password);
        }

        function copyText(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert('Copied to clipboard!');
            });
        }

        function checkStrength() {
            const password = document.getElementById('checkPassword').value;

            if (!password) {
                resetStrength();
                return;
            }

            // Calculate metrics
            const length = password.length;
            const hasUpper = /[A-Z]/.test(password);
            const hasLower = /[a-z]/.test(password);
            const hasNumber = /[0-9]/.test(password);
            const hasSymbol = /[^A-Za-z0-9]/.test(password);
            const isCommon = commonPasswords.includes(password.toLowerCase());
            const hasRepeat = /(.)\1{2,}/.test(password);
            const hasKeyboard = /(qwerty|asdfgh|zxcvbn|123456|abcdef)/i.test(password);

            // Calculate entropy
            let charSet = 0;
            if (hasLower) charSet += 26;
            if (hasUpper) charSet += 26;
            if (hasNumber) charSet += 10;
            if (hasSymbol) charSet += 32;

            const entropy = length * Math.log2(charSet);
            document.getElementById('entropy').textContent = Math.round(entropy) + ' bits';

            // Calculate crack time
            const combinations = Math.pow(charSet, length);
            const guessesPerSecond = 1e9; // 1 billion guesses per second
            const seconds = combinations / (2 * guessesPerSecond);
            document.getElementById('crackTime').textContent = formatTime(seconds);

            // Calculate score
            let score = 0;
            if (length >= 8) score += 15;
            if (length >= 12) score += 10;
            if (length >= 16) score += 10;
            if (hasUpper) score += 15;
            if (hasLower) score += 15;
            if (hasNumber) score += 15;
            if (hasSymbol) score += 20;
            if (!isCommon) score += 10;
            if (!hasRepeat) score += 5;
            if (!hasKeyboard) score += 5;

            // Update checklist
            updateChecklist([
                length >= 8,
                hasUpper,
                hasLower,
                hasNumber,
                hasSymbol,
                !isCommon,
                !hasRepeat,
                !hasKeyboard
            ]);

            // Update strength bar
            let strengthClass = '';
            let strengthText = '';

            if (score < 30) {
                strengthClass = 'strength-very-weak';
                strengthText = 'Very Weak';
            } else if (score < 50) {
                strengthClass = 'strength-weak';
                strengthText = 'Weak';
            } else if (score < 70) {
                strengthClass = 'strength-fair';
                strengthText = 'Fair';
            } else if (score < 85) {
                strengthClass = 'strength-good';
                strengthText = 'Good';
            } else {
                strengthClass = 'strength-strong';
                strengthText = 'Strong';
            }

            const fill = document.getElementById('strengthFill');
            fill.className = 'strength-fill ' + strengthClass;
            document.getElementById('strengthText').textContent = strengthText;
            document.getElementById('strengthScore').textContent = score + '/100';

            // Show phonetic
            showPhonetic(password);

            // Generate QR code
            generateQR(password);
        }

        function updateChecklist(checks) {
            const checklist = document.getElementById('checklist');
            const items = checklist.querySelectorAll('li');

            items.forEach((item, index) => {
                const icon = item.querySelector('.check-icon');
                if (checks[index]) {
                    icon.textContent = '‚úÖ';
                    icon.className = 'check-icon check-pass';
                } else {
                    icon.textContent = '‚ùå';
                    icon.className = 'check-icon check-fail';
                }
            });
        }

        function resetStrength() {
            document.getElementById('strengthFill').className = 'strength-fill';
            document.getElementById('strengthText').textContent = '-';
            document.getElementById('strengthScore').textContent = '0/100';
            document.getElementById('entropy').textContent = '- bits';
            document.getElementById('crackTime').textContent = '-';
            updateChecklist([false, false, false, false, false, false, false, false]);
            document.getElementById('phoneticDisplay').style.display = 'none';
            document.getElementById('qrcode').innerHTML = '';
        }

        function formatTime(seconds) {
            if (seconds < 1) return 'Instant';
            if (seconds < 60) return Math.round(seconds) + ' seconds';
            if (seconds < 3600) return Math.round(seconds / 60) + ' minutes';
            if (seconds < 86400) return Math.round(seconds / 3600) + ' hours';
            if (seconds < 31536000) return Math.round(seconds / 86400) + ' days';
            if (seconds < 3153600000) return Math.round(seconds / 31536000) + ' years';
            return Math.round(seconds / 31536000) + ' years (practically unbreakable)';
        }

        function showPhonetic(password) {
            const display = document.getElementById('phoneticDisplay');
            const text = document.getElementById('phoneticText');

            if (password.length > 15) {
                display.style.display = 'none';
                return;
            }

            let phoneticText = '';
            for (let char of password.toLowerCase()) {
                if (phonetic[char]) {
                    phoneticText += phonetic[char] + ' ';
                } else {
                    phoneticText += '[' + char + '] ';
                }
            }

            text.textContent = phoneticText.trim();
            display.style.display = 'block';
        }

        function generateQR(password) {
            const qrDiv = document.getElementById('qrcode');
            qrDiv.innerHTML = '';

            if (password.length > 0 && password.length < 50) {
                new QRCode(qrDiv, {
                    text: password,
                    width: 150,
                    height: 150
                });
            }
        }

        function toggleTheme() {
            document.body.classList.toggle('dark-mode');
            localStorage.setItem('dark-mode', document.body.classList.contains('dark-mode'));
        }

        function switchTab(tab) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));

            event.target.classList.add('active');
            document.getElementById(tab + '-tab').classList.add('active');
        }

        // Load theme preference
        if (localStorage.getItem('dark-mode') === 'true') {
            document.body.classList.add('dark-mode');
        }
    </script>
</body>
</html>
